| Downloads                                                                                                                                               | NuGet Packages
| :------------------------------------------------------------------------------------------------------------------------------------------------------ | :--------------------------------------------------------------------------------
| [![NuGet](https://img.shields.io/nuget/dt/Dirkster.AvalonDock.svg)](http://nuget.org/packages/Dirkster.AvalonDock)                                      | [Dirkster.AvalonDock](http://nuget.org/packages/Dirkster.AvalonDock)
| [![NuGet](https://img.shields.io/nuget/dt/Dirkster.AvalonDock.Themes.Aero.svg)](http://nuget.org/packages/Dirkster.AvalonDock.Themes.Aero)              | [Dirkster.AvalonDock.Themes.Aero](http://nuget.org/packages/Dirkster.AvalonDock.Themes.Aero)
| [![NuGet](https://img.shields.io/nuget/dt/Dirkster.AvalonDock.Themes.Expression.svg)](http://nuget.org/packages/Dirkster.AvalonDock.Themes.Expression)  | [Dirkster.AvalonDock.Themes.Expression](http://nuget.org/packages/Dirkster.AvalonDock.Themes.Expression)
| [![NuGet](https://img.shields.io/nuget/dt/Dirkster.AvalonDock.Themes.Metro.svg)](http://nuget.org/packages/Dirkster.AvalonDock.Themes.Metro)            | [Dirkster.AvalonDock.Themes.Metro](http://nuget.org/packages/Dirkster.AvalonDock.Themes.Metro)
| [![NuGet](https://img.shields.io/nuget/dt/Dirkster.AvalonDock.Themes.VS2010.svg)](http://nuget.org/packages/Dirkster.AvalonDock.Themes.VS2010)          | [Dirkster.AvalonDock.Themes.VS2010](http://nuget.org/packages/Dirkster.AvalonDock.Themes.VS2010)
| [![NuGet](https://img.shields.io/nuget/dt/Dirkster.AvalonDock.Themes.VS2013.svg)](http://nuget.org/packages/Dirkster.AvalonDock.Themes.VS2013)          | [Dirkster.AvalonDock.Themes.VS2013](http://nuget.org/packages/Dirkster.AvalonDock.Themes.VS2013) (see [Wiki](https://github.com/Dirkster99/AvalonDock/wiki/WPF-VS-2013-Dark-Light-Demo-Client) )

![Net4](https://badgen.net/badge/Framework/.Net&nbsp;4/blue) ![NetCore3](https://badgen.net/badge/Framework/NetCore&nbsp;3/blue) ![Net4](https://badgen.net/badge/Framework/.NET&nbsp;5/blue)

## 引用源地址：
[Dikster99 AvalonDock 4.72.0](https://github.com/Dirkster99/AvalonDock/tree/v4.72.0)

# Feature Added - 基于Dirkster.AvalonDock的VS2013主题修改而来的VS2022主题

### VS2022Test

<table width="100%">
   <tr>
      <td>theme</td>
      <td>display</td>
   </tr>
   <tr>
      <td>Dark</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/VS2022-Dark.png" width="400"></td>
   </tr>
   <tr>
      <td>Light</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/VS2022-Light.png" width="400"></td>
   </tr>
   <tr>
      <td>Blue</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/VS2022-Blue.png" width="400"></td>
   </tr>
</table>

### Aka/DockingDemo

<table width="100%">
   <tr>
      <td>theme</td>
      <td>display</td>
   </tr>
   <tr>
      <td>Dark</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/development/AkaStudio-2022-Dark.png" width="400"></td>
   </tr>
   <tr>
      <td>Light</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/development/AkaStudio-2022-Light.png" width="400"></td>
   </tr>
   <tr>
      <td>Blue</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/development/AkaStudio-2022-Blue.png" width="400"></td>
   </tr>
</table>

### VS2022Test

<table width="100%">
   <tr>
      <td>color</td>
      <td>Dark</td>
      <td>Light</td>
      <td>Blue</td>
   </tr>
   <tr>
      <td>无</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-无.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-无.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-无.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>淡紫色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-淡紫色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-淡紫色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-淡紫色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>金色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-金色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-金色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-金色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>蓝绿色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-蓝绿色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-蓝绿色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-蓝绿色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>绛紫色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-绛紫色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-绛紫色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-绛紫色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>绿色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-绿色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-绿色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-绿色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>棕色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-棕色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-棕色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-棕色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>亮蓝色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-亮蓝色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-亮蓝色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-亮蓝色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>南瓜色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-南瓜色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-南瓜色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-南瓜色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>灰色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-灰色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-灰色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-灰色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>珊瑚橘</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-珊瑚橘.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-珊瑚橘.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-珊瑚橘.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>青色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-青色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-青色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-青色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>品红</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-品红.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-品红.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-品红.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>薄荷绿</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-薄荷绿.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-薄荷绿.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-薄荷绿.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>深棕色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-深棕色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-深棕色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-深棕色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>蓝色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-蓝色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-蓝色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-蓝色.png" width="400" height="auto"></td>
   </tr>
   <tr>
      <td>粉色</td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Dark-粉色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Light-粉色.png" width="400" height="auto"></td>
      <td><img src="https://gitee.com/liu_meiling/avalon-dock-for-wpf/raw/master/source/Picture/VS2022-Blue-粉色.png" width="400" height="auto"></td>
   </tr>
</table>

## Theming

Using the *AvalonDock.Themes.VS2022* theme is very easy with *Dark* and *Light* and *Blue* themes.
Just load *Light* or *Dark* or *Blue* brush resources in you resource dictionary to take advantage of existing definitions.

```XAML
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/AvalonDock.Themes.VS2022;component/DarkBrushs.xaml" />
    </ResourceDictionary.MergedDictionaries>
```

```XAML
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/AvalonDock.Themes.VS2022;component/LightBrushs.xaml" />
    </ResourceDictionary.MergedDictionaries>
```

```XAML
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/AvalonDock.Themes.VS2022;component/BlueBrushs.xaml" />
    </ResourceDictionary.MergedDictionaries>
```

These definitions do not theme all controls used within this library. You should use a standard theming library, such as:
- [MahApps.Metro](https://github.com/MahApps/MahApps.Metro),
- [MLib](https://github.com/Dirkster99/MLib), or
- [MUI](https://github.com/firstfloorsoftware/mui)

to also theme standard elements, such as, button and textblock etc.

# update History

## 2023-5-4

- 1.新建AvalonDock.Themes.VS2022，修改AvalonDock.Themes.VS2022/BlueBrushs，DarkBrushs，LightBrushs主题部分配色，增加彩色标签等颜色
- 2.修改AvalonDock.Themes.VS2022/Themes/Generic.xaml下AvalonDockThemeVS2022DocumentPaneControlStyle属性ItemContainerStyle，修改了文档选项卡样式，左侧增加彩色标签
- 3.修改AvalonDock.Themes.VS2022/Themes/Generic.xaml下AvalonDockThemeVS2022DocumentContextMenu，增加文档右键菜单-"设置选项卡颜色"
- 4.修改AvalonDock/Controls/LayoutDocumentItem.cs，增加ChangeTabColorCommand命令

## 2023-5-8

- 1.修改AvalonDock/Controls/DocumentPaneTabPanel.cs，原版容器为Panel，由一行显示文档，多余隐藏，现在使用WrapPanel作为面板容器，新增对象DocumentPaneTabWrapPanel,兼容其他主题
- 2.新增AvalonDock/Controls/LayoutDocumentItem.cs，增加ChangeTabColorCommand命令对应方法，寻找资源并统一替换颜色，实现统一更换选项卡颜色
- 3.重写了AvalonDock/Controls/LayoutDocumentTabItem.cs下OnMouseRightButtonDown方法，使右键LayoutDocument时，LayoutDocument即被选中
- 4.删除部分无用颜色资源和键
- 5.鼠标移动到选项卡上时，选项卡成为孤岛，左右上下皆隔开，选项卡不再直角，改为圆角

## 2023-5-9

- 1.修正部分颜色,例如"选项卡颜色-无"
- 2.窗口等修改为半圆角
- 3.预计，文档添加固定图标和固定功能

## 2023-5-13

- 1.浮动窗口添加最小化,最大化后不显示最小化，因为发现此时点击出现最小化未完成立即回到最大化
- 2.浮动窗口圆角，增加新增元素主题配色
- 3.文档添加锚定按钮,LayoutDocument添加IsFixed属性，LayoutDocumentItem添加FixCommand命令
- 4.顶部彩色标签容器修改自定义Panel，重写MeasureOverride和ArrangeOverride
- 5.修正原先已存在不合理之处：文档选项卡选中被激活，选中其他窗口，再次返回选中文档内容框(非选项卡),此时自动激活选中第一项而非原选中项。content不可为null，否则无效
- 5.1.逻辑：先触发newDocument的isActive，再触发oldDocument的isActive，切换ActiveContent，入口点在LayoutContent的IsActive属性set
- 5.2.修改了LayoutRoot的InternalSetActiveContent方法，原本当从Docuemnt切换到工具窗口时，LastFocusedDocument被清空导致返回Document时默认第一个Document被激活，现在保留
- 5.3.修改了LayoutRoot的CompareTo，测试时发现随意写的content与原先默认创建的fileviewmodel，无法比较，遂加上一个判断 other.Content is IComparable
- 6.修改逻辑，固定文档被添加到固定文档队列末尾
- 7.预计添加固定文档与未固定文档永远分离，不可破坏

## 2023-5-16

- 1.修复Anchorable等其他控件到DocumentPane时的测量排列排序固定问题
- 2.Anchorable添加iSFixed属性
- 3.Anchorable强制固定，固定时与Document分行


## 2023-5-31

- 1.合并akastudio项目
- 2.修改部分颜色
- 3.待解决：序列化和反序列化布局添加新增信息


## 2023-6-5

- 1.解决反序列化IsFixed问题：
- 1.1 反序列化时读取xaml文件加载的对应contentId的对象，拿到属性，不应该拿到isFixed等属性。
- 1.2 若布局以xaml文件为准，则在LayoutSerializer.FixupLayout()方法中，则取消注释以下代码，默认以反序列化文件为准，即注释以下代码

```C#
   //lcToFix.IsFixed = previousDocument.IsFixed;
   //lcToFix.IsFixed = previousAchorable.IsFixed;
```


